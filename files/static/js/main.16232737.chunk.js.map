{"version":3,"sources":["redux/actions/params.js","redux/actions/booking.js","redux/actions/halls.js","redux/reducers/params.js","redux/reducers/booking.js","redux/reducers/halls.js","redux/reducers/index.js","components/Shedule.jsx","assets/img/refresh.svg","components/Loading.jsx","components/TimeScale.jsx","config.js","components/SheduleTop.jsx","components/Halls.jsx","components/ArrowBtn.jsx","components/BookingInfo.jsx","components/BookingForm.jsx","hooks/useWindowDimensions.js","App.js","api.js","sagas/params.js","sagas/halls.js","sagas/booking.js","sagas/index.js","redux/store.js","index.js"],"names":["createActions","PARAMS","WINDOW_SIZE","SHEDULE","REQUEST","SUCCESS","ERROR","SHEDULE_QUERY","CHANGE_DAYWEEK","CHANGE_QUERY","params","setWindowSize","windowSize","shedule","sheduleGetRequest","request","sheduleGetSuccess","success","sheduleGetError","error","sheduleQuery","sheduleChangeDayweek","changeDayweek","sheduleChangeQuery","changeQuery","BOOKING","ADD","DELETE","LOAD_PRICE","SEND","booking","addBooking","add","deleteBooking","delete","loadPrice","loadPriceRequest","loadPriceSuccess","loadPriceError","send","sendBookingRequest","sendBookingSuccess","sendBookingError","HALLS","HALLS_PARAMS","CHANGE_STEP","CHANGE_PLACE","SET","PURPOSES","halls","hallsGetRequest","hallsGetSuccess","hallsGetError","hallsParams","hallsChangeStep","changeStep","hallsChangePlace","changePlace","setPurposes","set","purposes","sizeWindow","handleActions","_state","payload","heightCell","query","state","date","idHall","purpose","loading","dayweek","controlPoints","getParams","getShedule","createSelector","sheduleWork","getPrepayment","hours","prepaymentHours","percent","prepaymentPercent","combineReducers","form","selected","minutes","minutesStep","neighbors","Object","keys","filter","item","minutesBusy","newBooking","persons","forEach","Number","commonBooking","produce","draft","value","refresh","key","price","priceText","discount","discountText","purposeText","timeRange","timeBusy","keyOrderWithoutPrice","minutesFrom","minutesTo","getBooking","getBookingCount","items","length","minutesToTime","hourSize","hoursTime","Math","floor","minutesTime","toString","padStart","getBookingInfo","paramsShedule","map","timeFrom","timeTo","heightBusy","ceil","rangeTime","reduce","target","index","getBookingInfoPrice","bookingKeys","sumPrice","sumDiscount","bookingCount","priceFormat","replace","discountFormat","list","hallsStep","hallsPlace","getHallsRange","purposeList","includes","_id","firstActiveBtn","lastActiveBtn","showBtns","getHallsObj","hallsObj","newObj","bookingHalls","push","Shedule","today","dispatch","useDispatch","useSelector","loadingBooking","sheduleWorkAll","sheduleKeys","sheduleKeysAll","handleRemoveItemShedule","keyBookedShedule","timeArr","values","className","onClick","itemShedule","itemSheduleKeys","rowLen","itemSheduleList","thisTime","selectedItem","activeItem","style","height","timeM","timeH","busy","Loading","src","logo","alt","TimeScale","site","formatDate","SheduleTop","children","beforeNowDate","moment","firstDate","isSameOrBefore","changeWeek","manipulate","subtract","format","typeBtn","isActive","rangeDate","Halls","changeHall","changePurpose","handleBtnArroeClick","stepHall","name","cover","pathResize","ArrowBtn","BookingInfo","handleClickShowForm","bookingPriceInfo","Button","variant","validationSchema","yup","firstName","min","required","phone","mail","email","comment","typePay","BookingForm","setShowBookingForm","countSelected","prepayment","hallsObjKeys","formik","useFormik","initialValues","onSubmit","dateOrder","Date","handleDelete","TextField","type","InputProps","inputProps","label","defaultValue","onChange","newParams","handleSubmit","fullWidth","id","handleChange","touched","Boolean","errors","helperText","mask","disabled","multiline","RadioGroup","FormControlLabel","control","Radio","color","getWindowDimensions","window","width","innerWidth","innerHeight","App","useState","showBookingForm","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useWindowDimensions","fetchGet","url","a","axios","get","data","response","fetchPost","obj","post","sheduleGet","paramsWatch","select","isUpdate","newIdHall","put","newQuery","call","takeLatest","hallsGet","hallsWatch","hallsPurpose","document","getElementById","getAttribute","getPriceForBooking","orderSend","bookingWatch","selectedKeys","clickBooking","dateOrderFormat","result","listOrders","sendResult","alert","location","href","invoice_url","sagas","fork","composeEnhancers","compose","store","preloadedState","sagaMiddleware","createSagaMiddleware","createStore","rootReducers","applyMiddleware","run","configStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.16232737.chunk.js","sourcesContent":["import { createActions } from 'redux-actions';\r\n\r\nconst {\r\n  params: {\r\n    windowSize: setWindowSize,\r\n    shedule: { request: sheduleGetRequest, success: sheduleGetSuccess, error: sheduleGetError },\r\n    sheduleQuery: { changeDayweek: sheduleChangeDayweek, changeQuery: sheduleChangeQuery }\r\n  }\r\n} = createActions({\r\n  PARAMS: {\r\n    WINDOW_SIZE: null,\r\n    SHEDULE: {\r\n      REQUEST: null,\r\n      SUCCESS: null,\r\n      ERROR: null\r\n    },\r\n    SHEDULE_QUERY: {\r\n      CHANGE_DAYWEEK: null,\r\n      CHANGE_QUERY: null\r\n    }\r\n  }\r\n});\r\n\r\nexport {\r\n  setWindowSize,\r\n  sheduleGetRequest,\r\n  sheduleGetSuccess,\r\n  sheduleGetError,\r\n  sheduleChangeDayweek,\r\n  sheduleChangeQuery\r\n};\r\n","import { createActions } from 'redux-actions';\r\n\r\nconst {\r\n  booking: { add: addBooking, delete: deleteBooking },\r\n  loadPrice: { request: loadPriceRequest, success: loadPriceSuccess, error: loadPriceError },\r\n  send: { request: sendBookingRequest, success: sendBookingSuccess, error: sendBookingError }\r\n} = createActions({\r\n  BOOKING: {\r\n    ADD: null,\r\n    DELETE: null\r\n  },\r\n  LOAD_PRICE: {\r\n    REQUEST: null,\r\n    SUCCESS: null,\r\n    ERROR: null\r\n  },\r\n  SEND: {\r\n    REQUEST: null,\r\n    SUCCESS: null,\r\n    ERROR: null\r\n  }\r\n});\r\n\r\nexport {\r\n  addBooking,\r\n  deleteBooking,\r\n  loadPriceRequest,\r\n  loadPriceSuccess,\r\n  loadPriceError,\r\n  sendBookingRequest,\r\n  sendBookingSuccess,\r\n  sendBookingError\r\n};\r\n","import { createActions } from 'redux-actions';\r\n\r\nconst {\r\n  halls: { request: hallsGetRequest, success: hallsGetSuccess, error: hallsGetError },\r\n  hallsParams: { changeStep: hallsChangeStep, changePlace: hallsChangePlace },\r\n  set: { purposes: setPurposes }\r\n} = createActions({\r\n  HALLS: {\r\n    REQUEST: null,\r\n    SUCCESS: null,\r\n    ERROR: null\r\n  },\r\n  HALLS_PARAMS: {\r\n    CHANGE_STEP: null,\r\n    CHANGE_PLACE: null\r\n  },\r\n  SET: {\r\n    PURPOSES: null\r\n  }\r\n});\r\n\r\nexport {\r\n  hallsGetRequest,\r\n  hallsGetSuccess,\r\n  hallsGetError,\r\n  hallsChangeStep,\r\n  hallsChangePlace,\r\n  setPurposes\r\n};\r\n","import { handleActions } from 'redux-actions';\r\nimport { combineReducers } from 'redux';\r\nimport { createSelector } from 'reselect';\r\n\r\nimport {\r\n  setWindowSize,\r\n  sheduleGetRequest,\r\n  sheduleGetSuccess,\r\n  sheduleGetError,\r\n  sheduleChangeDayweek,\r\n  sheduleChangeQuery\r\n} from '../actions';\r\n\r\nconst sizeWindow = handleActions(\r\n  {\r\n    [setWindowSize]: (_state, { payload }) => payload\r\n  },\r\n  {}\r\n);\r\nconst shedule = handleActions(\r\n  {\r\n    [sheduleGetRequest]: (_state) => {},\r\n    [sheduleGetSuccess]: (_state, { payload }) => ({ ...payload, heightCell: 40 }),\r\n    [sheduleGetError]: (_state) => {}\r\n  },\r\n  {}\r\n);\r\nconst error = handleActions(\r\n  {\r\n    [sheduleGetRequest]: (_state) => null,\r\n    [sheduleGetSuccess]: (_state) => null,\r\n    [sheduleGetError]: (_state, { payload }) => payload\r\n  },\r\n  null\r\n);\r\nconst query = handleActions(\r\n  {\r\n    [sheduleGetRequest]: (state, { payload }) => ({\r\n      date: payload.date ? payload.date : state.date,\r\n      idHall: payload.idHall ? payload.idHall : state.idHall,\r\n      purpose: payload.purpose ? payload.purpose : state.purpose\r\n    }),\r\n    [sheduleChangeQuery]: (state, { payload }) => ({\r\n      date: payload.date ? payload.date : state.date,\r\n      idHall: payload.idHall ? payload.idHall : state.idHall,\r\n      purpose: payload.purpose ? payload.purpose : state.purpose\r\n      // minutesClick: payload.minutesClick ? payload.minutesClick : state.minutesClick,\r\n      // dateClick: payload.dateClick ? payload.dateClick : state.dateClick\r\n    })\r\n  },\r\n  {}\r\n);\r\n\r\nconst loading = handleActions(\r\n  {\r\n    [sheduleGetRequest]: (_state) => true,\r\n    [sheduleGetSuccess]: (_state) => false,\r\n    [sheduleGetError]: (_state) => false\r\n  },\r\n  false\r\n);\r\n\r\nconst dayweek = handleActions(\r\n  {\r\n    [sheduleChangeDayweek]: (_state, { payload }) => payload\r\n  },\r\n  ''\r\n);\r\n\r\nconst controlPoints = handleActions({}, 992);\r\n\r\nexport const getParams = ({ params }) => params;\r\nexport const getShedule = createSelector(\r\n  (state) => state.params.shedule,\r\n  (state) => state.params,\r\n  (shedule, params) => {\r\n    if (params.sizeWindow < params.controlPoints)\r\n      return shedule.sheduleWork\r\n        ? {\r\n            [shedule.sheduleWork[params.dayweek]['dateShort']]: {\r\n              ...shedule.sheduleWork[params.dayweek]\r\n            }\r\n          }\r\n        : {};\r\n    else return shedule.sheduleWork ? shedule.sheduleWork : {};\r\n  }\r\n);\r\nexport const getPrepayment = createSelector(\r\n  (state) => state.params.shedule,\r\n  (shedule) => {\r\n    return { hours: shedule.prepaymentHours, percent: shedule.prepaymentPercent };\r\n  }\r\n);\r\n\r\nexport default combineReducers({\r\n  sizeWindow,\r\n  shedule,\r\n  error,\r\n  loading,\r\n  query,\r\n  dayweek,\r\n  controlPoints\r\n});\r\n","import { handleActions } from 'redux-actions';\r\nimport { combineReducers } from 'redux';\r\nimport { createSelector } from 'reselect';\r\nimport produce from 'immer';\r\n\r\nimport {\r\n  addBooking,\r\n  deleteBooking,\r\n  loadPriceRequest,\r\n  loadPriceSuccess,\r\n  loadPriceError,\r\n  sendBookingRequest,\r\n  sendBookingSuccess,\r\n  sendBookingError\r\n} from '../actions';\r\n\r\nconst params = handleActions(\r\n  {\r\n    [loadPriceRequest]: (_state, { payload }) => payload,\r\n    [loadPriceSuccess]: () => ({}),\r\n    [loadPriceError]: () => ({})\r\n  },\r\n  {}\r\n);\r\nconst error = handleActions(\r\n  {\r\n    [loadPriceRequest]: () => null,\r\n    [loadPriceSuccess]: () => null,\r\n    [loadPriceError]: (_state, { payload }) => payload,\r\n    [sendBookingRequest]: () => null,\r\n    [sendBookingSuccess]: () => null,\r\n    [sendBookingError]: (_state, { payload }) => payload\r\n  },\r\n  null\r\n);\r\nconst loading = handleActions(\r\n  {\r\n    [loadPriceRequest]: () => true,\r\n    [loadPriceSuccess]: () => false,\r\n    [loadPriceError]: () => false,\r\n    [sendBookingRequest]: () => true,\r\n    [sendBookingSuccess]: () => false,\r\n    [sendBookingError]: () => false\r\n  },\r\n  false\r\n);\r\nconst form = handleActions(\r\n  {\r\n    [sendBookingRequest]: (_state, { payload }) => payload,\r\n    [sendBookingSuccess]: () => ({}),\r\n    [sendBookingError]: () => ({})\r\n  },\r\n  {}\r\n);\r\nconst selected = handleActions(\r\n  {\r\n    [addBooking]: (state, { payload }) => {\r\n      const { date, minutes, minutesStep, idHall } = payload;\r\n      const stateKeys = Object.keys(state);\r\n      const neighbors = stateKeys.filter((item) => {\r\n        return (\r\n          state[item].date === payload.date &&\r\n          state[item].idHall === idHall &&\r\n          (payload.minutes - state[item].minutes === -1 * payload.minutesStep ||\r\n            payload.minutes -\r\n              (state[item].minutes + state[item].minutesBusy - payload.minutesStep) ===\r\n              payload.minutesStep)\r\n        );\r\n      });\r\n      let newBooking = {\r\n        date,\r\n        minutes,\r\n        minutesBusy: minutesStep,\r\n        idHall,\r\n        persons: 1,\r\n        purpose: payload.purpose\r\n      };\r\n      neighbors.forEach((item) => {\r\n        const minutesBusy = Number(state[item].minutesBusy) + Number(newBooking.minutesBusy);\r\n        const commonBooking =\r\n          newBooking.minutes > state[item].minutes ? { ...state[item] } : { ...newBooking };\r\n        newBooking = produce(newBooking, (draft) => {\r\n          draft[`date`] = commonBooking.date;\r\n          draft[`minutes`] = commonBooking.minutes;\r\n          draft[`minutesBusy`] = minutesBusy;\r\n          draft[`idHall`] = idHall;\r\n          draft[`purpose`] = payload.purpose;\r\n        });\r\n      });\r\n      const nextState = produce(state, (draft) => {\r\n        neighbors.forEach((item) => {\r\n          delete draft[item];\r\n        });\r\n        draft[`${newBooking.date}-${newBooking.minutes}`] = newBooking;\r\n      });\r\n\r\n      return nextState;\r\n    },\r\n    [deleteBooking]: (state, { payload }) =>\r\n      produce(state, (draft) => {\r\n        delete draft[payload];\r\n      }),\r\n    [loadPriceSuccess]: (state, { payload: { value, refresh } }) => {\r\n      if (!refresh) {\r\n        const nextState = produce(state, (draft) => {\r\n          delete draft[`${value.date}-${value.minutes}`];\r\n        });\r\n\r\n        return nextState;\r\n      }\r\n      const nextState = !!value.key\r\n        ? produce(state, (draft) => {\r\n            draft[value.key].price = value.price;\r\n            draft[value.key].priceText = value.priceText;\r\n            draft[value.key].discount = value.discount;\r\n            draft[value.key].discountText = value.discountText;\r\n            draft[value.key].purposeText = value.purposeText;\r\n            draft[value.key].timeRange = value.timeRange;\r\n            draft[value.key].timeBusy = value.timeBusy;\r\n          })\r\n        : state;\r\n      return nextState;\r\n    },\r\n    [loadPriceRequest]: (state, { payload }) => {\r\n      const selectedKeys = Object.keys(state);\r\n      const keyOrderWithoutPrice = selectedKeys.filter((item) => {\r\n        const minutesFrom = state[item].minutes;\r\n        const minutesTo = minutesFrom + state[item].minutesBusy;\r\n\r\n        return (\r\n          payload.minutes >= minutesFrom &&\r\n          payload.minutes < minutesTo &&\r\n          state[item].date === payload.date\r\n        );\r\n      })[0];\r\n      const nextState = produce(state, (draft) => {\r\n        draft[keyOrderWithoutPrice].persons = payload.persons;\r\n      });\r\n\r\n      return nextState;\r\n    }\r\n  },\r\n  {}\r\n);\r\n\r\nexport const getBooking = ({ booking }) => booking;\r\nexport const getBookingCount = createSelector(\r\n  (state) => state.booking.selected,\r\n  (items) => {\r\n    const itemsKeys = Object.keys(items);\r\n\r\n    return itemsKeys.length;\r\n  }\r\n);\r\n\r\nconst minutesToTime = (minutes, hourSize) => {\r\n  let hoursTime = Math.floor(minutes / hourSize);\r\n  const minutesTime = minutes - hoursTime * hourSize;\r\n  hoursTime = hoursTime === 24 ? '0' : hoursTime;\r\n  return `${hoursTime.toString().padStart(2, '0')}:${minutesTime.toString().padStart(2, '0')}`;\r\n};\r\n\r\nexport const getBookingInfo = createSelector(\r\n  (state) => state.booking.selected,\r\n  (state) => state.params.shedule,\r\n  (items, paramsShedule) => {\r\n    const { hourSize, minutesStep, heightCell } = paramsShedule;\r\n    const itemsKeys = Object.keys(items);\r\n    const newObjBooking = itemsKeys.map((item) => {\r\n      const { minutes, minutesBusy } = items[item];\r\n\r\n      const timeFrom = minutesToTime(minutes, hourSize);\r\n      const timeTo = minutesToTime(minutes + minutesBusy, hourSize);\r\n\r\n      const heightBusy = Math.ceil(minutesBusy / minutesStep) * heightCell;\r\n\r\n      return [item, { ...items[item], rangeTime: `${timeFrom}-${timeTo}`, heightBusy }];\r\n    });\r\n    const resultObjBooking = newObjBooking.reduce(function (target, key, index) {\r\n      target[key[0]] = key[1];\r\n      return target;\r\n    }, {});\r\n\r\n    return resultObjBooking;\r\n  }\r\n);\r\n\r\nexport const getBookingInfoPrice = createSelector(\r\n  (state) => state.booking.selected,\r\n  (booking) => {\r\n    const bookingKeys = Object.keys(booking);\r\n    let sumPrice = 0;\r\n    let sumDiscount = 0;\r\n    bookingKeys.forEach((item) => {\r\n      sumPrice += !!booking[item].price ? booking[item].price : 0;\r\n      sumDiscount += !!booking[item].discount ? booking[item].discount : 0;\r\n    });\r\n\r\n    return {\r\n      price: sumPrice,\r\n      discount: sumDiscount,\r\n      bookingCount: bookingKeys.length,\r\n      priceFormat: sumPrice.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 '),\r\n      discountFormat: sumDiscount.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ')\r\n    };\r\n  }\r\n);\r\n\r\nexport default combineReducers({ selected, error, loading, form, params });\r\n","import { handleActions } from 'redux-actions';\r\nimport { combineReducers } from 'redux';\r\nimport { createSelector } from 'reselect';\r\n\r\nimport {\r\n  hallsGetRequest,\r\n  hallsGetSuccess,\r\n  hallsGetError,\r\n  hallsChangeStep,\r\n  hallsChangePlace,\r\n  setPurposes\r\n} from '../actions';\r\n\r\nconst list = handleActions(\r\n  {\r\n    [hallsGetRequest]: (_state) => [],\r\n    [hallsGetSuccess]: (_state, { payload }) => payload,\r\n    [hallsGetError]: (_state) => []\r\n  },\r\n  []\r\n);\r\nconst error = handleActions(\r\n  {\r\n    [hallsGetRequest]: (_state) => null,\r\n    [hallsGetSuccess]: (_state) => null,\r\n    [hallsGetError]: (_state, { payload }) => payload\r\n  },\r\n  null\r\n);\r\nconst loading = handleActions(\r\n  {\r\n    [hallsGetRequest]: (_state) => true,\r\n    [hallsGetSuccess]: (_state) => false,\r\n    [hallsGetError]: (_state) => false\r\n  },\r\n  false\r\n);\r\nconst hallsStep = handleActions(\r\n  {\r\n    [hallsChangeStep]: (_state, { payload }) => payload\r\n  },\r\n  4\r\n);\r\nconst hallsPlace = handleActions(\r\n  {\r\n    [hallsChangePlace]: (_state, { payload }) => payload\r\n  },\r\n  0\r\n);\r\nconst purposes = handleActions(\r\n  {\r\n    [setPurposes]: (_state, { payload }) => payload\r\n  },\r\n  []\r\n);\r\nexport const getHalls = ({ halls }) => halls;\r\nexport const getHallsRange = createSelector(\r\n  (state) => state.halls.list,\r\n  (state) => state.halls.hallsStep,\r\n  (state) => state.halls.hallsPlace,\r\n  (state) => state.halls.purposes[state.params.query.purpose],\r\n  (halls, hallsStep, hallsPlace, purpose) => {\r\n    const purposeList = purpose ? purpose.list : [];\r\n\r\n    return {\r\n      list: halls.filter(\r\n        (item, key) =>\r\n          key >= hallsPlace && key < hallsPlace + hallsStep && purposeList.includes(item._id)\r\n      ),\r\n      firstActiveBtn: hallsPlace <= 0,\r\n      lastActiveBtn: halls.length <= hallsPlace + hallsStep,\r\n      showBtns: halls.length > hallsStep\r\n    };\r\n  }\r\n);\r\nexport const getHallsObj = createSelector(\r\n  (state) => state.halls.list,\r\n  (state) => state.booking.selected,\r\n  (halls, booking) => {\r\n    const bookingKeys = Object.keys(booking);\r\n    const hallsObj = halls.reduce((newObj, item) => {\r\n      newObj[item._id] = item;\r\n      return newObj;\r\n    }, {});\r\n    const bookingHalls = {};\r\n    bookingKeys.forEach((item) => {\r\n      const idHall = booking[item].idHall;\r\n\r\n      if (!bookingHalls[idHall])\r\n        bookingHalls[idHall] = { ...hallsObj[idHall], list: [{ ...booking[item] }] };\r\n      else {\r\n        bookingHalls[idHall].list.push({ ...booking[item] });\r\n      }\r\n    });\r\n    return bookingHalls;\r\n  }\r\n);\r\n\r\nexport default combineReducers({ list, error, loading, hallsStep, hallsPlace, purposes });\r\n","import { combineReducers } from 'redux';\r\n// import pizzas from './pizzas';\r\nimport params from './params';\r\nimport booking from './booking';\r\nimport halls from './halls';\r\n\r\nexport * from './params';\r\nexport * from './booking';\r\nexport * from './halls';\r\n\r\nexport default combineReducers({ params, booking, halls });\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { Loading, TimeScale } from '../components';\r\nimport { getParams, getShedule, getBookingInfo, getBooking } from '../redux/reducers';\r\nimport {\r\n  addBooking,\r\n  deleteBooking,\r\n  sheduleChangeDayweek,\r\n  loadPriceRequest\r\n} from '../redux/actions';\r\n\r\nconst Shedule = ({ today }) => {\r\n  const dispatch = useDispatch();\r\n  const { query, loading, shedule, dayweek, sizeWindow, controlPoints } = useSelector((state) =>\r\n    getParams(state)\r\n  );\r\n  const { loading: loadingBooking } = useSelector((state) => getBooking(state));\r\n  const sheduleWork = useSelector((state) => getShedule(state));\r\n  const selected = useSelector((state) => getBookingInfo(state));\r\n  const sheduleWorkAll = shedule.sheduleWork ? shedule.sheduleWork : {};\r\n  const minutesStep = shedule.minutesStep ? shedule.minutesStep : 0;\r\n  const sheduleKeys = Object.keys(sheduleWork);\r\n  const sheduleKeysAll = Object.keys(sheduleWorkAll);\r\n  const handleClickItemShedule = (date, params, idHall) => () => {\r\n    if (!params.busy) {\r\n      dispatch(addBooking({ ...params, date, minutesStep, idHall, purpose: query.purpose }));\r\n      dispatch(\r\n        loadPriceRequest({\r\n          ...params,\r\n          date,\r\n          minutes: params.minutes,\r\n          persons: 1,\r\n          minutesStep,\r\n          idHall,\r\n          purpose: query.purpose\r\n        })\r\n      );\r\n    }\r\n  };\r\n  const handleRemoveItemShedule = (keyBookedShedule, idHall) => () => {\r\n    if (query.idHall === idHall) dispatch(deleteBooking(keyBookedShedule));\r\n  };\r\n\r\n  const timeArr = !!sheduleWork[sheduleKeys[0]]\r\n    ? Object.values(sheduleWork[sheduleKeys[0]]['list'])\r\n    : [];\r\n  const handleDayWeekClick = (date) => () => {\r\n    if (sizeWindow < controlPoints) dispatch(sheduleChangeDayweek(date));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"shedule\">\r\n        <div className=\"shedule__head-row\">\r\n          <div className=\"shedule__time-scale\"></div>\r\n          {sheduleKeysAll.map((item) => {\r\n            return (\r\n              <div className={`shedule__head-wrap`} key={item}>\r\n                <div\r\n                  className={`shedule__head ${today === item ? 'shedule--head-active' : ''} ${\r\n                    dayweek === item ? 'shedule--head-active-click' : ''\r\n                  }`}\r\n                  onClick={handleDayWeekClick(item)}>\r\n                  {sheduleWorkAll[item]['dayWeek']}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          <div className=\"shedule__time-scale\"></div>\r\n        </div>\r\n        <div className=\"shedule__row\">\r\n          <TimeScale minutesStep={minutesStep} timeArr={timeArr} className=\"shedule__time-scale\" />\r\n\r\n          {sheduleKeys.map((itemShedule) => {\r\n            const itemSheduleKeys = Object.keys(sheduleWork[itemShedule]['list']);\r\n            const rowLen = itemSheduleKeys.length;\r\n            return (\r\n              <div className=\"shedule__column\" key={itemShedule}>\r\n                <div className=\"shedule__column-body\">\r\n                  {itemSheduleKeys.map((itemSheduleList, key) => {\r\n                    const thisTime = sheduleWork[itemShedule]['list'][itemSheduleList];\r\n                    const selectedItem = selected[`${itemShedule}-${thisTime.minutes}`];\r\n\r\n                    const activeItem = selected ? selectedItem : false;\r\n                    const style = !!selectedItem && {\r\n                      height:\r\n                        minutesStep === 30\r\n                          ? selectedItem['heightBusy'] / 2\r\n                          : selectedItem['heightBusy']\r\n                    };\r\n                    if (rowLen === key + 1) return <div key={itemSheduleList}></div>;\r\n\r\n                    return (\r\n                      <div\r\n                        className={`shedule__item ${\r\n                          minutesStep === 30 ? 'shedule--item-half' : ''\r\n                        }  ${\r\n                          minutesStep === 30 && thisTime.timeM !== '30'\r\n                            ? 'shedule--item-btn-half'\r\n                            : ''\r\n                        }`}\r\n                        key={itemSheduleList}>\r\n                        {thisTime['busy'] ? (\r\n                          ''\r\n                        ) : (\r\n                          <button\r\n                            className={`shedule__item-btn`}\r\n                            data-value={`${sheduleWork[itemShedule]['dayWeek']} / ${thisTime.timeH}:${thisTime.timeM}`}\r\n                            onClick={handleClickItemShedule(\r\n                              itemShedule,\r\n                              thisTime,\r\n                              sheduleWork[itemShedule].idHall\r\n                            )}></button>\r\n                        )}\r\n\r\n                        {activeItem && (\r\n                          <div\r\n                            className={`shedule__item-active shedule--item-column ${\r\n                              selectedItem.idHall !== query.idHall ? 'shedule--item-no-active' : ''\r\n                            }`}\r\n                            style={style}\r\n                            onClick={handleRemoveItemShedule(\r\n                              `${itemShedule}-${thisTime.minutes}`,\r\n                              selectedItem.idHall\r\n                            )}>\r\n                            <div className=\"shedule__range-time\">{selectedItem.rangeTime}</div>\r\n                            <div className=\"shedule__price\">{selectedItem.priceText} руб.</div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          <TimeScale minutesStep={minutesStep} timeArr={timeArr} className=\"shedule__time-scale\" />\r\n        </div>\r\n      </div>\r\n\r\n      {loading || (loadingBooking && <Loading />)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Shedule };\r\n","export default __webpack_public_path__ + \"static/media/refresh.71d8f7d8.svg\";","import React from 'react';\r\nimport logo from '../assets/img/refresh.svg';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"loading\">\r\n      <div className=\"loading__wrap\">\r\n        <img src={logo} className=\"loading__icon\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Loading };\r\n","import React from 'react';\r\n\r\nconst TimeScale = ({ timeArr, className, minutesStep }) => {\r\n  return (\r\n    <div className={`time-scale ${className}`}>\r\n      {timeArr.map((item) => {\r\n        return (\r\n          <div\r\n            className={`time-scale__item ${minutesStep === 30 ? 'time-scale--item-half' : ''}`}\r\n            key={item.minutes}>\r\n            {(minutesStep !== 30 || item.timeM !== '30') && (\r\n              <div className=\"time-scale__wrap\">\r\n                <span className=\"time-scale__hours\">{item.timeH === '24' ? '00' : item.timeH}</span>\r\n                <span className=\"time-scale__minutes\">{item.timeM}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TimeScale };\r\n","const site = 'https://calendar-kamorka.ru/';\r\n// const site = 'http://localhost:3000/';\r\nconst formatDate = 'DD.MM.YYYY';\r\nconst countOrders = 5;\r\n\r\nexport { site, formatDate, countOrders };\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport { getParams } from '../redux/reducers';\r\nimport { sheduleGetRequest, sheduleChangeDayweek } from '../redux/actions';\r\nimport { formatDate } from '../config';\r\nimport { ArrowBtn } from '../components';\r\n\r\nconst SheduleTop = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n  const { shedule } = useSelector((state) => getParams(state));\r\n  const beforeNowDate = moment(shedule.firstDate, formatDate).isSameOrBefore(moment());\r\n\r\n  const changeWeek = (manipulate) => () => {\r\n    let today = moment(shedule.firstDate, formatDate);\r\n    switch (manipulate) {\r\n      case 'today':\r\n        today = moment();\r\n        break;\r\n      case 'inc':\r\n        today.add(7, 'days');\r\n        break;\r\n      case 'dec':\r\n        today.subtract(7, 'days');\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (!(beforeNowDate && manipulate === 'dec')) {\r\n      dispatch(sheduleChangeDayweek(today.format(formatDate)));\r\n      dispatch(\r\n        sheduleGetRequest({\r\n          date: today.format(formatDate)\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"shedule-top\">\r\n      <h3 className=\"shedule-top__header\">{children}</h3>\r\n      <div className=\"shedule-top__wrap\">\r\n        <button className=\"shedule-top__today\" onClick={changeWeek('today')}>\r\n          Сегодня\r\n        </button>\r\n        <div className=\"shedule-top__nav\">\r\n          <ArrowBtn\r\n            typeBtn=\"left\"\r\n            isActive={beforeNowDate ? false : true}\r\n            onClick={changeWeek('dec')}\r\n          />\r\n          <ArrowBtn typeBtn=\"right\" isActive={true} onClick={changeWeek('inc')} />\r\n        </div>\r\n        <div className=\"shedule-top__date\">{shedule.rangeDate}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { SheduleTop };\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { Loading, ArrowBtn } from '../components';\r\nimport { getHalls, getHallsRange, getParams } from '../redux/reducers';\r\nimport { sheduleGetRequest, hallsChangePlace } from '../redux/actions';\r\nimport { site } from '../config';\r\n\r\nconst Halls = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n  const { loading, hallsStep, hallsPlace, purposes } = useSelector((state) => getHalls(state));\r\n  const { list, firstActiveBtn, lastActiveBtn, showBtns } = useSelector((state) =>\r\n    getHallsRange(state)\r\n  );\r\n  const {\r\n    query: { idHall, purpose }\r\n  } = useSelector((state) => getParams(state));\r\n  const changeHall = (idHall) => () => {\r\n    dispatch(\r\n      sheduleGetRequest({\r\n        idHall\r\n      })\r\n    );\r\n  };\r\n  const changePurpose = (purpose) => () => {\r\n    dispatch(\r\n      sheduleGetRequest({\r\n        purpose\r\n      })\r\n    );\r\n  };\r\n  const handleBtnArroeClick = (stepHall) => () => {\r\n    if (!(stepHall < 0 && firstActiveBtn) && !(stepHall > 0 && lastActiveBtn)) {\r\n      dispatch(hallsChangePlace(hallsPlace + stepHall));\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"purposes\">\r\n        {Object.values(purposes).map((item) => {\r\n          return (\r\n            <div\r\n              key={item.value}\r\n              onClick={changePurpose(item.value)}\r\n              className={`purposes__item ${purpose === item.value ? 'purposes--active' : ''}`}>\r\n              {item.name}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <div className=\"halls\">\r\n        <h3 className=\"halls__header\">{children}</h3>\r\n        <div className=\"halls__list\">\r\n          {list &&\r\n            list.map((item) => {\r\n              const { _id, name, cover } = item;\r\n\r\n              return (\r\n                <div className=\"halls__item-wrap\" key={_id}>\r\n                  <div\r\n                    className={`halls__item ${idHall === _id ? 'halls--active' : ''}`}\r\n                    onClick={changeHall(_id)}>\r\n                    <div className=\"halls__image\">\r\n                      <img\r\n                        className=\"halls__img\"\r\n                        src={`${site}${\r\n                          cover ? cover.pathResize : './files/common/no-image-340x200.jpg'\r\n                        }`}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"halls__name\">{name}</div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n        {showBtns && (\r\n          <div className=\"halls__btns-arrow\">\r\n            <ArrowBtn\r\n              typeBtn=\"left\"\r\n              isActive={!firstActiveBtn}\r\n              onClick={handleBtnArroeClick(hallsStep * -1)}\r\n            />\r\n            <ArrowBtn\r\n              typeBtn=\"right\"\r\n              isActive={!lastActiveBtn}\r\n              onClick={handleBtnArroeClick(hallsStep)}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      {loading && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Halls };\r\n","import React from 'react';\r\n\r\nconst ArrowBtn = ({ typeBtn, isActive, onClick, className }) => {\r\n  return (\r\n    <button\r\n      className={`arrow-btn arrow-btn--${typeBtn} ${!isActive ? 'arrow-btn--no-active' : ''} ${\r\n        className ? className : ''\r\n      }`}\r\n      onClick={onClick}></button>\r\n  );\r\n};\r\n\r\nexport { ArrowBtn };\r\n","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { countOrders } from '../config';\r\nimport { getBookingInfoPrice /*, getBookingInfo, getHallsObj */ } from '../redux/reducers';\r\n\r\nconst BookingInfo = ({ handleClickShowForm }) => {\r\n  const bookingPriceInfo = useSelector((state) => getBookingInfoPrice(state));\r\n\r\n  return (\r\n    bookingPriceInfo.bookingCount > 0 && (\r\n      <div className=\"booking-order-info\">\r\n        <div className=\"booking-order-info__item booking-order-info--count\">\r\n          Всего заказов: {bookingPriceInfo.bookingCount}\r\n        </div>\r\n        <div className=\"booking-order-info__item booking-order-info--info\">\r\n          За один раз количество заказов не может быть более чем {countOrders}\r\n        </div>\r\n        <div className=\"booking-order-info__item\">\r\n          <div className=\"booking-order-info__price\">{bookingPriceInfo.priceFormat} руб.</div>\r\n          <div className=\"booking-order-info__price-discount\">\r\n            Включая скидку {bookingPriceInfo.discountFormat} руб.\r\n          </div>\r\n        </div>\r\n        <div className=\"booking-order-info__item\">\r\n          <Button onClick={handleClickShowForm} variant=\"contained\">\r\n            Забронировать\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport { BookingInfo };\r\n","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport InputMask from 'react-input-mask';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport moment from 'moment';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\n\r\nimport {\r\n  getHallsObj,\r\n  getBookingInfoPrice,\r\n  getBooking,\r\n  getBookingCount,\r\n  getPrepayment\r\n} from '../redux/reducers';\r\nimport { sendBookingRequest, loadPriceRequest, deleteBooking } from '../redux/actions';\r\nimport { Loading } from '../components';\r\n\r\nconst validationSchema = yup.object({\r\n  firstName: yup\r\n    .string('Введите Имя')\r\n    .min(2, 'Поле должно содержать минимум 2 буквы')\r\n    .required('Имя обязательно для заполнения'),\r\n  phone: yup.string('Введите Телефон').required('Имя обязательно для заполнения'),\r\n  mail: yup\r\n    .string('Введите E-mail')\r\n    .email('Введите корректный email')\r\n    .required('Имя обязательно для заполнения'),\r\n  comment: yup.string('Введите Комментарий'),\r\n  typePay: yup.string('Тип оплаты')\r\n});\r\n\r\nconst BookingForm = ({ handleClickShowForm, setShowBookingForm }) => {\r\n  const dispatch = useDispatch();\r\n  const bookingPriceInfo = useSelector((state) => getBookingInfoPrice(state));\r\n  const countSelected = useSelector((state) => getBookingCount(state));\r\n  const { loading: loadingBooking } = useSelector((state) => getBooking(state));\r\n  const prepayment = useSelector((state) => getPrepayment(state));\r\n  const hallsObj = useSelector((state) => getHallsObj(state));\r\n  const hallsObjKeys = Object.keys(hallsObj);\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      firstName: '',\r\n      phone: '',\r\n      mail: '',\r\n      comment: '',\r\n      typePay: 'percent'\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      const dateOrder = moment(new Date());\r\n\r\n      dispatch(sendBookingRequest({ ...values, dateOrder }));\r\n    }\r\n  });\r\n\r\n  const handleChange =\r\n    (params) =>\r\n    ({ target }) => {\r\n      const newParams = { ...params, persons: Number(target.value) };\r\n\r\n      dispatch(loadPriceRequest(newParams));\r\n    };\r\n\r\n  const handleDelete = (item) => () => {\r\n    dispatch(deleteBooking(`${item.date}-${item.minutes}`));\r\n\r\n    if (countSelected <= 1) setShowBookingForm(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"booking-order-form\">\r\n        <div className=\"booking-order-form__top\">\r\n          <div className=\"booking-order-form__name\">Оформление заказа</div>\r\n          <Button onClick={handleClickShowForm} variant=\"outlined\">\r\n            Назад\r\n          </Button>\r\n        </div>\r\n        <div className=\"booking-order-form__header\">\r\n          Бронь фотостудии KAMORKA.STUDIO ФОТО | ВИДЕО | ПРОСТРАНСТВО\r\n        </div>\r\n        <div className=\"booking-order-form__halls\">\r\n          {hallsObjKeys.map((key) => {\r\n            return (\r\n              <div key={key} className=\"booking-order-form__halls-item\">\r\n                <div className=\"booking-order-form__halls-name\">{hallsObj[key].name}</div>\r\n                <div className=\"booking-order-form__booking\">\r\n                  {hallsObj[key].list.map((item) => {\r\n                    return (\r\n                      <div\r\n                        key={`${item.minutes}${item.date}`}\r\n                        className=\"booking-order-form__booking-item\">\r\n                        <div className=\"booking-order-form__booking-item-left\">\r\n                          {item.date} {item.timeRange},{item.timeBusy} (для {item.purposeText})\r\n                        </div>\r\n                        <div className=\"booking-order-form__booking-item-right\">\r\n                          <div className=\"booking-order-form__booking-right-price\">\r\n                            {item.priceText} руб.\r\n                          </div>\r\n                          <div className=\"booking-order-form__booking-right-persons\">\r\n                            <TextField\r\n                              type=\"number\"\r\n                              InputProps={{ inputProps: { min: 1 } }}\r\n                              label=\"кол-во человек\"\r\n                              variant=\"standard\"\r\n                              defaultValue={item.persons}\r\n                              onChange={handleChange(item)}\r\n                            />\r\n                          </div>\r\n                          <CloseIcon\r\n                            className=\"booking-order-form__delete\"\r\n                            onClick={handleDelete(item)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"booking-order-form__total\">\r\n          Итого: {bookingPriceInfo.priceFormat} руб.\r\n          <div className=\"booking-order-form__total-discount\">\r\n            Включая скидку {bookingPriceInfo.discountFormat} руб.\r\n          </div>\r\n        </div>\r\n        <div className=\"booking-order-form__fields\">\r\n          <form className=\"form-box\" onSubmit={formik.handleSubmit}>\r\n            <div className=\"form-box__row\">\r\n              <div className=\"form-box__item\">\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"firstName\"\r\n                  name=\"firstName\"\r\n                  label=\"Имя\"\r\n                  value={formik.values.firstName}\r\n                  onChange={formik.handleChange}\r\n                  error={formik.touched.firstName && Boolean(formik.errors.firstName)}\r\n                  helperText={formik.touched.firstName && formik.errors.firstName}\r\n                />\r\n              </div>\r\n              <div className=\"form-box__item\">\r\n                <InputMask\r\n                  mask=\"+7 (999) 999-99-99\"\r\n                  value={formik.values.phone}\r\n                  onChange={formik.handleChange}\r\n                  disabled={false}\r\n                  error={formik.touched.phone && Boolean(formik.errors.phone)}\r\n                  helperText={formik.touched.phone && formik.errors.phone}>\r\n                  <TextField fullWidth id=\"phone\" name=\"phone\" label=\"Телефон\" />\r\n                </InputMask>\r\n              </div>\r\n\r\n              <div className=\"form-box__item\">\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"mail\"\r\n                  name=\"mail\"\r\n                  label=\"E-mail\"\r\n                  value={formik.values.mail}\r\n                  onChange={formik.handleChange}\r\n                  error={formik.touched.mail && Boolean(formik.errors.mail)}\r\n                  helperText={formik.touched.mail && formik.errors.mail}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-box__item-row\">\r\n              <TextField\r\n                fullWidth\r\n                id=\"comment\"\r\n                multiline\r\n                name=\"comment\"\r\n                label=\"Комментарий\"\r\n                value={formik.values.comment}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.comment && Boolean(formik.errors.comment)}\r\n                helperText={formik.touched.comment && formik.errors.comment}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-box__info\">\r\n              В течении {prepayment.hours} {prepayment.hours > 1 ? 'часов' : 'часа'} Вам необходимо\r\n              оплатить заказ в размере не менее {prepayment.percent}%. В противном случае Ваш заказ\r\n              будет отменен.\r\n            </div>\r\n            {prepayment.percent < 100 ? (\r\n              <div className=\"form-box__item-row\">\r\n                <div className=\"form-box__head\">\r\n                  В зависимости от вашего выбора будет сформирован счет на оплату и отправлен на\r\n                  указанную Вами почту.\r\n                </div>\r\n                <RadioGroup\r\n                  value={formik.values.typePay}\r\n                  name=\"typePay\"\r\n                  id=\"typePay\"\r\n                  onChange={formik.handleChange}>\r\n                  <FormControlLabel\r\n                    value=\"percent\"\r\n                    control={<Radio />}\r\n                    label={`Оплатить предоплату в размере ${prepayment.percent}% - ${Math.ceil(\r\n                      (bookingPriceInfo.price / 100) * prepayment.percent\r\n                    )\r\n                      .toString()\r\n                      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ')} руб.`}\r\n                  />\r\n                  <FormControlLabel\r\n                    value=\"full\"\r\n                    control={<Radio />}\r\n                    label={`Оплатить всю стоимость - ${bookingPriceInfo.priceFormat} руб.`}\r\n                  />\r\n                </RadioGroup>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            <div className=\"form-box__bottom\">\r\n              <Button variant=\"outlined\" color=\"primary\" type=\"submit\">\r\n                Оплатить\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      {loadingBooking && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { BookingForm };\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\n\nimport {\n  hallsGetRequest,\n  hallsChangeStep,\n  sheduleChangeDayweek,\n  setWindowSize\n} from './redux/actions';\nimport { Shedule, SheduleTop, Halls, BookingInfo, BookingForm } from './components';\nimport { formatDate } from './config';\nimport useWindowDimensions from './hooks/useWindowDimensions';\nimport { getParams } from './redux/reducers';\n\nfunction App() {\n  const [showBookingForm, setShowBookingForm] = useState(false);\n  const dispatch = useDispatch();\n  const today = moment().format(formatDate);\n  const { controlPoints } = useSelector((state) => getParams(state));\n  const { width } = useWindowDimensions();\n\n  const handleClickShowForm = () => setShowBookingForm(!showBookingForm);\n\n  useEffect(() => {\n    dispatch(setWindowSize(width));\n    if (width < controlPoints) dispatch(hallsChangeStep(1));\n    else dispatch(hallsChangeStep(4));\n    dispatch(sheduleChangeDayweek(today));\n    // dispatch(\n    //   sheduleGetRequest({\n    //     date: today,\n    //     idHall: document.getElementById('root').getAttribute('data-num-room')\n    //   })\n    // );\n    dispatch(hallsGetRequest());\n  }, [dispatch, today, width, controlPoints]);\n  return (\n    <div className=\"content-main\">\n      {!showBookingForm && (\n        <>\n          <Halls>Выберите зал</Halls>\n          <SheduleTop>Выберите свободное время</SheduleTop>\n          <Shedule today={today} />\n          <BookingInfo handleClickShowForm={handleClickShowForm} />\n        </>\n      )}\n      {showBookingForm && (\n        <BookingForm\n          handleClickShowForm={handleClickShowForm}\n          setShowBookingForm={setShowBookingForm}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import axios from 'axios';\r\n\r\nexport const fetchGet = async (url) => {\r\n  try {\r\n    const { data } = await axios.get(url);\r\n    return data;\r\n  } catch (e) {\r\n    throw e.response.data;\r\n  }\r\n};\r\n\r\nexport const fetchPost = async (url, obj) => {\r\n  try {\r\n    const { data } = await axios.post(url, { ...obj });\r\n    return data;\r\n  } catch (e) {\r\n    throw e.response.data;\r\n  }\r\n};\r\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\r\n\r\nimport {\r\n  sheduleGetRequest,\r\n  sheduleGetSuccess,\r\n  sheduleGetError,\r\n  sheduleChangeQuery\r\n} from '../redux/actions';\r\nimport { fetchPost } from '../api';\r\nimport { getParams, getHallsRange } from '../redux/reducers';\r\nimport { site } from '../config';\r\n\r\nfunction* sheduleGet() {\r\n  try {\r\n    const { query } = yield select(getParams);\r\n    const { list } = yield select(getHallsRange);\r\n    const isUpdate = list.filter((item) => item._id === query.idHall).length === 0;\r\n    const newIdHall = list[0] ? list[0]._id : '';\r\n\r\n    if (isUpdate && !!newIdHall) yield put(sheduleChangeQuery({ idHall: newIdHall }));\r\n    const newQuery = isUpdate && !!newIdHall ? { ...query, idHall: newIdHall } : query;\r\n\r\n    const shedule = yield call(fetchPost, `${site}api/booking-plan-week`, newQuery);\r\n\r\n    yield put(sheduleGetSuccess(shedule));\r\n  } catch (error) {\r\n    yield put(sheduleGetError(error));\r\n  }\r\n}\r\n\r\nexport function* paramsWatch() {\r\n  yield takeLatest(sheduleGetRequest, sheduleGet);\r\n}\r\n","import { takeLatest, call, put } from 'redux-saga/effects';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n  hallsGetRequest,\r\n  hallsGetSuccess,\r\n  hallsGetError,\r\n  setPurposes,\r\n  sheduleGetRequest\r\n} from '../redux/actions';\r\nimport { fetchGet } from '../api';\r\nimport { site, formatDate } from '../config';\r\n\r\nfunction* hallsGet() {\r\n  try {\r\n    const today = moment().format(formatDate);\r\n    const halls = yield call(fetchGet, `${site}api/halls`);\r\n    const hallsPurpose = yield call(fetchGet, `${site}api/halls-purpose`);\r\n\r\n    yield put(\r\n      sheduleGetRequest({\r\n        date: today,\r\n        idHall: document.getElementById('root').getAttribute('data-num-room'),\r\n        purpose: Object.keys(hallsPurpose)[0]\r\n      })\r\n    );\r\n    yield put(setPurposes(hallsPurpose));\r\n    yield put(hallsGetSuccess(halls));\r\n  } catch (error) {\r\n    yield put(hallsGetError(error));\r\n  }\r\n}\r\n\r\nexport function* hallsWatch() {\r\n  yield takeLatest(hallsGetRequest, hallsGet);\r\n}\r\n","import { takeLatest, put, call, select } from 'redux-saga/effects';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n  loadPriceRequest,\r\n  loadPriceSuccess,\r\n  loadPriceError,\r\n  sendBookingRequest,\r\n  sendBookingSuccess,\r\n  sendBookingError\r\n} from '../redux/actions';\r\nimport { fetchPost } from '../api';\r\nimport { site, countOrders } from '../config';\r\nimport { getBooking, getBookingInfoPrice } from '../redux/reducers';\r\n\r\nfunction* getPriceForBooking() {\r\n  try {\r\n    const { selected, params } = yield select(getBooking);\r\n    const selectedKeys = Object.keys(selected);\r\n\r\n    if (selectedKeys.length > countOrders)\r\n      yield put(loadPriceSuccess({ value: params, refresh: false }));\r\n    else {\r\n      const keyOrderWithoutPrice = selectedKeys.filter((item) => {\r\n        const minutesFrom = selected[item].minutes;\r\n        const minutesTo = minutesFrom + selected[item].minutesBusy;\r\n        return (\r\n          params.minutes >= minutesFrom &&\r\n          params.minutes < minutesTo &&\r\n          selected[item].date === params.date\r\n        );\r\n      })[0];\r\n      const clickBooking = {\r\n        ...selected[keyOrderWithoutPrice],\r\n        key: keyOrderWithoutPrice\r\n      };\r\n      const price = yield call(fetchPost, `${site}api/booking-price`, {\r\n        ...clickBooking\r\n      });\r\n      yield put(loadPriceSuccess({ value: price, refresh: true }));\r\n    }\r\n  } catch (error) {\r\n    yield put(loadPriceError(error));\r\n  }\r\n}\r\n\r\nfunction* orderSend() {\r\n  try {\r\n    const { form } = yield select(getBooking);\r\n    const { price } = yield select(getBookingInfoPrice);\r\n    const { selected } = yield select(getBooking);\r\n    const dateOrderFormat = moment(form.dateOrder).format('DD.MM.YYYY HH:mm');\r\n\r\n    const result = yield call(fetchPost, `${site}api/booking-add-orders`, {\r\n      ...form,\r\n      price,\r\n      selected,\r\n      dateOrderFormat\r\n    });\r\n    const sendResult = yield call(fetchPost, `${site}api/booking-fetch`, {\r\n      listOrders: result,\r\n      price,\r\n      form: { ...form }\r\n    });\r\n    if (!sendResult.error) {\r\n      window.location.href = sendResult.invoice_url;\r\n    } else {\r\n      alert(\r\n        'Заказ добавлен но с оплатой что-то пошло не так, свяжитесь с нами для оплаты указав причину'\r\n      );\r\n    }\r\n    yield put(sendBookingSuccess(result));\r\n  } catch (error) {\r\n    yield put(sendBookingError(error));\r\n  }\r\n}\r\n\r\nexport function* bookingWatch() {\r\n  yield takeLatest(loadPriceRequest, getPriceForBooking);\r\n  yield takeLatest(sendBookingRequest, orderSend);\r\n}\r\n","import { fork } from 'redux-saga/effects';\r\n\r\nimport { paramsWatch } from './params';\r\nimport { hallsWatch } from './halls';\r\nimport { bookingWatch } from './booking';\r\n\r\nexport function* sagas() {\r\n  yield fork(paramsWatch);\r\n  yield fork(hallsWatch);\r\n  yield fork(bookingWatch);\r\n}\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducers from './reducers';\r\nimport { sagas } from '../sagas';\r\n\r\nconst composeEnhancers =\r\n  process.env.NODE_ENV !== 'production' &&\r\n  typeof window === 'object' &&\r\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst configStore = (preloadedState) => {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createStore(\r\n    rootReducers,\r\n    preloadedState,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(sagas);\r\n  return store;\r\n};\r\n\r\nconst store = configStore({});\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport store from './redux/store';\n// import reportWebVitals from './reportWebVitals';\nimport './assets/scss/app.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}